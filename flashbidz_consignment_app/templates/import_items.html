
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Admin Import</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Arial,sans-serif;background:#f6f7f9;margin:0}
    main{max-width:900px;margin:24px auto;background:#fff;padding:20px;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,.06)}
    .row{margin:12px 0}
    input[type=file],input[type=text]{width:100%;padding:10px;border:1px solid #ddd;border-radius:8px}
    button{background:#e60000;color:#fff;border:none;border-radius:8px;padding:10px 14px;font-weight:700;cursor:pointer}
    .secondary{background:#eee;color:#000}
  </style>
</head>
<body>
  {% include "_navbar.html" %}
  <main>
{% with msgs = get_flashed_messages() %}
  {% if msgs %}
    <ul style="background:#fff3cd;color:#664d03;border:1px solid #ffe69c;padding:10px 14px;border-radius:8px">
      {% for m in msgs %}<li>{{ m }}</li>{% endfor %}
    </ul>
  {% endif %}
{% endwith %}
    <h1>Admin &raquo; Import Items</h1>

    <!-- Upload a CSV file -->
        <form action="/admin/import" method="post" enctype="multipart/form-data">
           <label><b>Select CSV file</b></label><br>
           <input type="file" name="file" accept=".csv">
           <br><br>
           <button type="submit">Upload CSV</button>
        </form>

        <hr>
        <form action="/admin/import" method="post">
           <label><b>Or paste a CSV URL</b></label><br>
           <input type="text" name="csv_url" placeholder="https://.../export?format=csv">
           <br><br>
           <button type="submit">Fetch & Import</button>
        </form>

    <hr>

    <!-- Fetch from a CSV URL (including Google Sheets CSV export link) -->
    <form class="row" action="/admin/import" method="post">
      <label><b>Or paste a CSV URL</b></label>
      <input type="text" name="csv_url" placeholder="https://.../export?format=csv">
      <div class="row"><button class="secondary" type="submit">Fetch & Import</button></div>
      <small>For Google Sheets: Share &gt; Anyone with link (Viewer), then use a CSV export link.</small>
    </form>
  </main>
</body>
</html>

